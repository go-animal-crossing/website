var date=new Date;function applyFilterState(){var e=_filterState.hours?".t-"+_filterState.hours:".filter__item";_filterState.type&&(e=e+".type-"+_filterState.type),_filterState.hemisphere&&(e=e+".hemi-"+_filterState.hemisphere+"-1"),_filterState.is&&(e=_filterState.hemisphere?e+".is-"+_filterState.is+"-"+_filterState.hemisphere+"-1":e+".is-"+_filterState.is+"-1"),_filterState.caught&&(e+=".caught");for(var t=document.querySelectorAll(e),r=document.querySelectorAll(".filter__item"),n=0;n<r.length;n++)r[n].style.display="none";for(n=0;n<t.length;n++)t[n].style.display="block"}_filterState={hours:!!_globalDateFilter&&date.getHours(),type:!1,hemisphere:!1,is:!1,caught:!1},document.addEventListener("DOMContentLoaded",function(){if(document.querySelectorAll(".filter__item").length>0){applyFilterState();for(var e=document.querySelectorAll(".filter__trigger"),t=0;t<e.length;t++){const r=e[t];r.addEventListener("click",function(e){for(var t=r.getAttribute("data-filter-key"),n=r.getAttribute("data-filter-value"),o=r.getAttribute("data-filter-group"),a=document.querySelectorAll("."+o),s=0;s<a.length;s++)a[s].classList.remove("selected");r.classList.add("selected"),_filterState[t]=n,applyFilterState(),e.preventDefault()})}}}),_storageKey="myislandv1";const _emptyIsland={name:"",hemisphere:"",nativeFruit:"",turnipPrice:"",bugs:[],fish:[],"sea-creatures":[],editedOn:!1,dodo:!1};function loadIsland(){if(_emptyIslandLink=LZString.compressToEncodedURIComponent(JSON.stringify(_emptyIsland)),window.location.hash){var e=window.location.hash.substring(1),t=LZString.decompressFromEncodedURIComponent(e);t&&(_myisland=JSON.parse(t)),saveIsland()}else if("undefined"!=typeof Storage){var r=window.localStorage.getItem(_storageKey);r&&(_myisland=JSON.parse(r))}_updateMyLink()}function saveIsland(){_myisland.editedOn=(new Date).toISOString();var e=JSON.stringify(_myisland);"undefined"!=typeof Storage&&window.localStorage.setItem(_storageKey,e),_updateMyLink()}function _updateMyLink(){var e=JSON.stringify(_myisland),t=document.querySelectorAll("a.share");_mylink=LZString.compressToEncodedURIComponent(e);for(var r=0;r<t.length;r++){var n=t[r];_mylink!=_emptyIslandLink&&(n.setAttribute("href","/shared/#"+_mylink),n.classList.remove("hidden"))}}function loadSharedIsland(){var e=document.querySelector(".page.loading");if(window.location.hash){_fragment=window.location.hash.substring(1);var t=LZString.decompressFromEncodedURIComponent(_fragment);t&&(_sharedIsland=JSON.parse(t));for(var r=document.querySelectorAll("a.island-mine"),n=0;n<r.length;n++){r[n].setAttribute("href","/mine/#"+_fragment)}setTimeout(function(){e&&e.classList.remove("loading")},1e3)}else e&&e.classList.replace("loading","error")}function addToMeta(e,t,r){void 0===_meta.all[e]&&(_meta.all[e]=0),void 0===_meta.caught[e]&&(_meta.caught[e]=0),void 0===_meta.missing[e]&&(_meta.missing[e]=[]),_meta.all[e]++,r?_meta.caught[e]++:_meta.missing[e].push(t)}_myisland=_emptyIsland,_mylink="",_emptyIslandLink=!1,document.addEventListener("DOMContentLoaded",function(){loadIsland();for(var e=document.querySelectorAll(".shareable .mine .critter-tile"),t=0;t<e.length;t++){const r=e[t],n=r.getAttribute("data-type"),o=r.getAttribute("data-id");_myisland[n].indexOf(o)>=0&&r.classList.add("caught"),r.addEventListener("click",function(e){e.preventDefault();var t=_myisland[n].indexOf(o);t>=0?_myisland[n].splice(t,1):_myisland[n].push(o),r.classList.toggle("caught"),saveIsland()})}var r=document.querySelectorAll("form.island-data input, form.island-data select");for(t=0;t<r.length;t++){const e=r[t],o=e.getAttribute("name");var n=_myisland[o];n&&(e.value=n),e.addEventListener("input",function(e){var t=e.target.value;_myisland[o]=t,saveIsland()})}var o=document.querySelectorAll("a.share");for(t=0;t<o.length;t++){o[t].addEventListener("click",function(e){if(navigator.share){e.preventDefault();var t={title:_myisland.name,text:_myisland.name+" - My Animal Crossing Island!",url:"https://myisland.club/shared/#"+_mylink};try{navigator.share(t)}catch(e){console.error(e)}}})}}),document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll("a.button, a.to-top"),t=0;t<e.length;t++){const r=e[t];r.addEventListener("click",function(e){var t=r.getAttribute("href");if("#"==t.substr(0,1)){e.preventDefault();var n=document.getElementById(t.replace("#",""));n&&n.scrollIntoView()}})}}),_storageKeyShared="sharedislandv1",_sharedLink="",_sharedIsland=!1,_meta={all:{},caught:{},missing:{}},_fragment=window.location.hash,document.addEventListener("DOMContentLoaded",function(){loadSharedIsland();var e=document.querySelectorAll(".shared .critter-tile"),t=document.querySelector(".to-catch .list"),r=0,n=document.querySelector(".missing-text"),o=document.querySelector(".page.shared");if(_sharedIsland&&o){document.querySelector(".island-name span").textContent=_sharedIsland.name.replace(/(<([^>]+)>)/gi,""),document.querySelector(".island-hemisphere span").textContent=_sharedIsland.hemisphere.replace(/(<([^>]+)>)/gi,""),document.querySelector(".island-nativeFruit span").textContent=_sharedIsland.nativeFruit.replace(/(<([^>]+)>)/gi,""),document.querySelector(".island-turnipPrice span").textContent=_sharedIsland.turnipPrice.replace(/(<([^>]+)>)/gi,""),document.querySelector(".island-dodo span").textContent=_sharedIsland.dodo.replace(/(<([^>]+)>)/gi,"");var a=new Date(_sharedIsland.editedOn);document.querySelector(".island-editedOn span").textContent=a.toLocaleDateString()+" at "+a.toLocaleTimeString();for(var s=0;s<e.length;s++){var i=e[s],d=i.getAttribute("data-type"),l=i.getAttribute("data-id"),c=!1;_sharedIsland&&void 0!==_sharedIsland[d]&&(c=_sharedIsland[d].includes(l)),c||(0==r&&n.parentNode.removeChild(n),r++,i.parentNode.removeChild(i),i.setAttribute("class","grid__item critter-tile"),t.appendChild(i)),addToMeta(d,l,c)}document.querySelector(".island-bugs span").textContent=_meta.caught.bugs+" / "+_meta.all.bugs,document.querySelector(".island-fish span").textContent=_meta.caught.fish+" / "+_meta.all.fish,document.querySelector(".island-sea-creatures span").textContent=_meta.caught["sea-creatures"]+" / "+_meta.all["sea-creatures"]}});var LZString=function(){function e(e,t){if(!o[e]){o[e]={};for(var r=0;r<e.length;r++)o[e][e.charAt(r)]=r}return o[e][t]}var t=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={},a={compressToBase64:function(e){if(null==e)return"";var t=a._compress(e,6,function(e){return r.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,function(n){return e(r,t.charAt(n))})},compressToUTF16:function(e){return null==e?"":a._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),r=new Uint8Array(2*t.length),n=0,o=t.length;o>n;n++){var s=t.charCodeAt(n);r[2*n]=s>>>8,r[2*n+1]=s%256}return r},decompressFromUint8Array:function(e){if(null==e)return a.decompress(e);for(var r=new Array(e.length/2),n=0,o=r.length;o>n;n++)r[n]=256*e[2*n]+e[2*n+1];var s=[];return r.forEach(function(e){s.push(t(e))}),a.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,function(r){return e(n,t.charAt(r))}))},compress:function(e){return a._compress(e,16,function(e){return t(e)})},_compress:function(e,t,r){if(null==e)return"";var n,o,a,s={},i={},d="",l="",c="",u=2,h=3,m=2,f=[],p=0,g=0;for(a=0;a<e.length;a+=1)if(d=e.charAt(a),Object.prototype.hasOwnProperty.call(s,d)||(s[d]=h++,i[d]=!0),l=c+d,Object.prototype.hasOwnProperty.call(s,l))c=l;else{if(Object.prototype.hasOwnProperty.call(i,c)){if(c.charCodeAt(0)<256){for(n=0;m>n;n++)p<<=1,g==t-1?(g=0,f.push(r(p)),p=0):g++;for(o=c.charCodeAt(0),n=0;8>n;n++)p=p<<1|1&o,g==t-1?(g=0,f.push(r(p)),p=0):g++,o>>=1}else{for(o=1,n=0;m>n;n++)p=p<<1|o,g==t-1?(g=0,f.push(r(p)),p=0):g++,o=0;for(o=c.charCodeAt(0),n=0;16>n;n++)p=p<<1|1&o,g==t-1?(g=0,f.push(r(p)),p=0):g++,o>>=1}0==--u&&(u=Math.pow(2,m),m++),delete i[c]}else for(o=s[c],n=0;m>n;n++)p=p<<1|1&o,g==t-1?(g=0,f.push(r(p)),p=0):g++,o>>=1;0==--u&&(u=Math.pow(2,m),m++),s[l]=h++,c=String(d)}if(""!==c){if(Object.prototype.hasOwnProperty.call(i,c)){if(c.charCodeAt(0)<256){for(n=0;m>n;n++)p<<=1,g==t-1?(g=0,f.push(r(p)),p=0):g++;for(o=c.charCodeAt(0),n=0;8>n;n++)p=p<<1|1&o,g==t-1?(g=0,f.push(r(p)),p=0):g++,o>>=1}else{for(o=1,n=0;m>n;n++)p=p<<1|o,g==t-1?(g=0,f.push(r(p)),p=0):g++,o=0;for(o=c.charCodeAt(0),n=0;16>n;n++)p=p<<1|1&o,g==t-1?(g=0,f.push(r(p)),p=0):g++,o>>=1}0==--u&&(u=Math.pow(2,m),m++),delete i[c]}else for(o=s[c],n=0;m>n;n++)p=p<<1|1&o,g==t-1?(g=0,f.push(r(p)),p=0):g++,o>>=1;0==--u&&(u=Math.pow(2,m),m++)}for(o=2,n=0;m>n;n++)p=p<<1|1&o,g==t-1?(g=0,f.push(r(p)),p=0):g++,o>>=1;for(;;){if(p<<=1,g==t-1){f.push(r(p));break}g++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,r,n){var o,a,s,i,d,l,c,u=[],h=4,m=4,f=3,p="",g=[],v={val:n(0),position:r,index:1};for(o=0;3>o;o+=1)u[o]=o;for(s=0,d=Math.pow(2,2),l=1;l!=d;)i=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(i>0?1:0)*l,l<<=1;switch(s){case 0:for(s=0,d=Math.pow(2,8),l=1;l!=d;)i=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(i>0?1:0)*l,l<<=1;c=t(s);break;case 1:for(s=0,d=Math.pow(2,16),l=1;l!=d;)i=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(i>0?1:0)*l,l<<=1;c=t(s);break;case 2:return""}for(u[3]=c,a=c,g.push(c);;){if(v.index>e)return"";for(s=0,d=Math.pow(2,f),l=1;l!=d;)i=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(i>0?1:0)*l,l<<=1;switch(c=s){case 0:for(s=0,d=Math.pow(2,8),l=1;l!=d;)i=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(i>0?1:0)*l,l<<=1;u[m++]=t(s),c=m-1,h--;break;case 1:for(s=0,d=Math.pow(2,16),l=1;l!=d;)i=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(i>0?1:0)*l,l<<=1;u[m++]=t(s),c=m-1,h--;break;case 2:return g.join("")}if(0==h&&(h=Math.pow(2,f),f++),u[c])p=u[c];else{if(c!==m)return null;p=a+a.charAt(0)}g.push(p),u[m++]=a+p.charAt(0),a=p,0==--h&&(h=Math.pow(2,f),f++)}}};return a}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString);var stIsIE=!1;if(sorttable={init:function(){arguments.callee.done||(arguments.callee.done=!0,_timer&&clearInterval(_timer),document.createElement&&document.getElementsByTagName&&(sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,forEach(document.getElementsByTagName("table"),function(e){-1!=e.className.search(/\bsortable\b/)&&sorttable.makeSortable(e)})))},makeSortable:function(e){if(0==e.getElementsByTagName("thead").length&&(the=document.createElement("thead"),the.appendChild(e.rows[0]),e.insertBefore(the,e.firstChild)),null==e.tHead&&(e.tHead=e.getElementsByTagName("thead")[0]),1==e.tHead.rows.length){sortbottomrows=[];for(var t=0;t<e.rows.length;t++)-1!=e.rows[t].className.search(/\bsortbottom\b/)&&(sortbottomrows[sortbottomrows.length]=e.rows[t]);if(sortbottomrows){null==e.tFoot&&(tfo=document.createElement("tfoot"),e.appendChild(tfo));for(t=0;t<sortbottomrows.length;t++)tfo.appendChild(sortbottomrows[t]);delete sortbottomrows}headrow=e.tHead.rows[0].cells;for(t=0;t<headrow.length;t++)headrow[t].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[t].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),mtch&&"function"==typeof sorttable["sort_"+override]?headrow[t].sorttable_sortfunction=sorttable["sort_"+override]:headrow[t].sorttable_sortfunction=sorttable.guessType(e,t),headrow[t].sorttable_columnindex=t,headrow[t].sorttable_tbody=e.tBodies[0],dean_addEvent(headrow[t],"click",sorttable.innerSortFunction=function(e){if(-1!=this.className.search(/\bsorttable_sorted\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':"&nbsp;&#x25B4;",void this.appendChild(sortrevind);if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",void this.appendChild(sortfwdind);theadrow=this.parentNode,forEach(theadrow.childNodes,function(e){1==e.nodeType&&(e.className=e.className.replace("sorttable_sorted_reverse",""),e.className=e.className.replace("sorttable_sorted",""))}),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var t=0;t<rows.length;t++)row_array[row_array.length]=[sorttable.getInnerText(rows[t].cells[col]),rows[t]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(t=0;t<row_array.length;t++)tb.appendChild(row_array[t][1]);delete row_array}))}},guessType:function(e,t){sortfn=sorttable.sort_alpha;for(var r=0;r<e.tBodies[0].rows.length;r++)if(text=sorttable.getInnerText(e.tBodies[0].rows[r].cells[t]),""!=text){if(text.match(/^-?[£$¤]?[\d,.]+%?$/))return sorttable.sort_numeric;if(possdate=text.match(sorttable.DATE_RE),possdate){if(first=parseInt(possdate[1]),second=parseInt(possdate[2]),first>12)return sorttable.sort_ddmm;if(second>12)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}return sortfn},getInnerText:function(e){if(!e)return"";if(hasInputs="function"==typeof e.getElementsByTagName&&e.getElementsByTagName("input").length,null!=e.getAttribute("sorttable_customkey"))return e.getAttribute("sorttable_customkey");if(void 0!==e.textContent&&!hasInputs)return e.textContent.replace(/^\s+|\s+$/g,"");if(void 0!==e.innerText&&!hasInputs)return e.innerText.replace(/^\s+|\s+$/g,"");if(void 0!==e.text&&!hasInputs)return e.text.replace(/^\s+|\s+$/g,"");switch(e.nodeType){case 3:if("input"==e.nodeName.toLowerCase())return e.value.replace(/^\s+|\s+$/g,"");case 4:return e.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:for(var t="",r=0;r<e.childNodes.length;r++)t+=sorttable.getInnerText(e.childNodes[r]);return t.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(e){newrows=[];for(var t=0;t<e.rows.length;t++)newrows[newrows.length]=e.rows[t];for(t=newrows.length-1;t>=0;t--)e.appendChild(newrows[t]);delete newrows},sort_numeric:function(e,t){return aa=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(e,t){return e[0]==t[0]?0:e[0]<t[0]?-1:1},sort_ddmm:function(e,t){return mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},sort_mmdd:function(e,t){return mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},shaker_sort:function(e,t){for(var r=0,n=e.length-1,o=!0;o;){o=!1;for(var a=r;a<n;++a)if(t(e[a],e[a+1])>0){var s=e[a];e[a]=e[a+1],e[a+1]=s,o=!0}if(n--,!o)break;for(a=n;a>r;--a)if(t(e[a],e[a-1])<0){s=e[a];e[a]=e[a-1],e[a-1]=s,o=!0}r++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1),/WebKit/i.test(navigator.userAgent))var _timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&sorttable.init()},10);function dean_addEvent(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else{r.$$guid||(r.$$guid=dean_addEvent.guid++),e.events||(e.events={});var n=e.events[t];n||(n=e.events[t]={},e["on"+t]&&(n[0]=e["on"+t])),n[r.$$guid]=r,e["on"+t]=handleEvent}}function removeEvent(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.events&&e.events[t]&&delete e.events[t][r.$$guid]}function handleEvent(e){var t=!0;e=e||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var r=this.events[e.type];for(var n in r)this.$$handleEvent=r[n],!1===this.$$handleEvent(e)&&(t=!1);return t}function fixEvent(e){return e.preventDefault=fixEvent.preventDefault,e.stopPropagation=fixEvent.stopPropagation,e}window.onload=sorttable.init,dean_addEvent.guid=1,fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(e,t,r){for(var n=0;n<e.length;n++)t.call(r,e[n],n,e)}),Function.prototype.forEach=function(e,t,r){for(var n in e)void 0===this.prototype[n]&&t.call(r,e[n],n,e)},String.forEach=function(e,t,r){Array.forEach(e.split(""),function(n,o){t.call(r,n,o,e)})};var forEach=function(e,t,r){if(e){var n=Object;if(e instanceof Function)n=Function;else{if(e.forEach instanceof Function)return void e.forEach(t,r);"string"==typeof e?n=String:"number"==typeof e.length&&(n=Array)}n.forEach(e,t,r)}};